"use strict";function appearanceDigitBlock(){var e=document.createElement("div");e.setAttribute("class","digit"),places[function a(){var t=getRandomPlace(places.length);e.innerText="2",e.id=t;var s=t;return places[s].lastChild?a():s}()].appendChild(e)}function getRandomPlace(e){return Math.floor(Math.random()*e)}function IsPlaced(e){if(!place.hasChildNodes())return!0}function Movement(e){function a(e,a,t,s,c){switch(e){case"ArrowDown":o[a].classList.remove("mov-top-".concat(s,"00")),o[a].classList.add("mov-bottom-".concat(t,"00"));break;case"ArrowUp":o[a].classList.remove("mov-bottom-".concat(t,"00")),o[a].classList.add("mov-top-".concat(s,"00"));break;case"ArrowLeft":o[a].classList.remove("mov-right-".concat(t,"00")),o[a].classList.add("mov-left-".concat(s,"00"));break;case"ArrowRight":o[a].classList.remove("mov-left-".concat(s,"00")),o[a].classList.add("mov-right-".concat(t,"00"))}}function t(e,a){for(var t=(Number(o[e].parentNode.classList[1][4]),Number(o[e].parentNode.classList[2][4])),c=(Number(places[e].classList[2][4]),places.length);c>0;c--)if(places[c-1].classList[2][4]==t){if(!places[c-1].lastChild||places[c-1].lastChild.id==o[e].id){o[e].classList.remove("mov-bottom-".concat(a,"00")),places[c-1].appendChild(o[e]);break}places[c-1].lastChild&&s(o[e],places[c-1].lastChild)}}function s(e,a){var t=Number(e.innerText),s=Number(a.innerText);if(t===s){var c=Number(a.innerText);c+=t;a.innerText=c,e.innerText="changed",e.remove(),console.log(a.parentNode),console.log(digitDivNode.parentNode+"IM HERE!")}}function c(e,a){for(var t=(Number(o[e].parentNode.classList[1][4]),Number(o[e].parentNode.classList[2][4])),c=0;c<places.length;c++)if(places[c].classList[2][4]==t){if(!places[c].lastChild||places[c].lastChild.id==o[e].id){console.log(a),o[e].classList.remove("mov-top-".concat(a,"00")),places[c].appendChild(o[e]);break}places[c].lastChild&&s(o[e],places[c].lastChild)}}function r(e,a){for(var t=Number(o[e].parentNode.classList[1][4]),c=0;c<places.length;c++)if(places[c].classList[1][4]==t){if(!places[c].lastChild||places[c].lastChild.id==o[e].id){o[e].classList.remove("mov-left-".concat(a,"00")),places[c].appendChild(o[e]);break}places[c].lastChild&&s(o[e],places[c].lastChild)}}function i(e,a){for(var t=Number(o[e].parentNode.classList[1][4]),c=places.length;c>0;c--)if(places[c-1].classList[1][4]==t){if(!places[c-1].lastChild||places[c-1].lastChild.id==o[e].id){o[e].classList.remove("mov-right-".concat(a,"00")),places[c-1].appendChild(o[e]);break}places[c-1].lastChild&&s(o[e],places[c-1].lastChild)}}var o=Array.from(document.querySelectorAll(".digit")),l=Array.from(document.querySelectorAll(".place")),n=Array.from(document.querySelectorAll(".digit"));n.reverse();var p=l[l.length-1].classList[1][4];l[0].classList[1];if("ArrowUp"===e){var d=function(t){var s=o[t].parentNode.classList[1][4],r=p-s,i=s-1;setTimeout(function(){c(t,i)},80),a(e,t,r,i)};for(var m in o)d(m)}if("ArrowDown"===e){o.reverse();var v=function(s){var c=o[s].parentNode.classList[1][4],r=p-c,i=c-1;setTimeout(function(){t(s,r)},80),a(e,s,r,i)};for(var m in o)v(m)}if("ArrowLeft"===e){var u=function(t){var s=o[t].parentNode.classList[2][4],c=p-s,i=s-1;setTimeout(function(){r(t,i)},80),a(e,t,c,i)};for(var m in n)u(m)}if("ArrowRight"===e){o.reverse();var f=function(t){var s=o[t].parentNode.classList[2][4],c=p-s,r=s-1;setTimeout(function(){i(t,c)},80),a(e,t,c,r)};for(var m in o)f(m)}}var places=document.querySelectorAll(".place");appearanceDigitBlock(),appearanceDigitBlock();var keytrigger=[];window.addEventListener("keyup",function(e){keytrigger.push(e.code),Movement(keytrigger[0]),appearanceDigitBlock(),keytrigger.length>=2&&(keytrigger=[]),setTimeout(function(){keytrigger=[]},100)});